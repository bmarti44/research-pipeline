{
  "metadata": {
    "timestamp": "20260202_221655",
    "experiment": "signal_detection",
    "version": "v1",
    "num_trials": 5,
    "seed": 42,
    "n_positive": 1,
    "n_negative": 0,
    "total_observations": 10,
    "failed_trials_count": 0,
    "failed_trials": null
  },
  "design": {
    "description": "Confound-free format friction test. Both conditions receive identical WHEN guidance and structurally parallel HOW instructions. Neither condition requires suppressing default behavior.",
    "nl_format": "Natural language acknowledgment in response",
    "structured_format": "<signal type='...'>reason</signal> XML tag"
  },
  "metrics": {
    "structured": {
      "recall": 0.2,
      "false_positive_rate": 0,
      "ci_95": [
        0.03622316096978745,
        0.6244717358814613
      ],
      "true_positives": 1,
      "false_positives": 0,
      "n_positive_scenarios": 5,
      "n_negative_scenarios": 0
    },
    "nl": {
      "recall": 0.2,
      "false_positive_rate": 0,
      "ci_95": [
        0.03622316096978745,
        0.6244717358814613
      ],
      "true_positives": 1,
      "false_positives": 0,
      "n_positive_scenarios": 5,
      "n_negative_scenarios": 0
    }
  },
  "ambiguity_analysis": {
    "EXPLICIT": {
      "nl_recall": 0,
      "st_recall": 0,
      "gap_pp": 0,
      "nl_n": 0,
      "st_n": 0
    },
    "IMPLICIT": {
      "nl_recall": 0.2,
      "st_recall": 0.2,
      "gap_pp": 0.0,
      "nl_n": 5,
      "st_n": 5
    },
    "BORDERLINE": {
      "nl_recall": 0,
      "st_recall": 0,
      "gap_pp": 0,
      "nl_n": 0,
      "st_n": 0
    }
  },
  "scenario_level_analysis": {
    "n_scenarios": 1,
    "nl_better_count": 0,
    "st_better_count": 0,
    "ties_count": 1,
    "sign_test_p": 1.0,
    "wilcoxon_p": null
  },
  "trial_level_comparison": {
    "nl_minus_structured_pp": 0.0,
    "mcnemar_chi_sq": 0.5,
    "mcnemar_p_value": 0.47950012218695337,
    "nl_wins": 1,
    "structured_wins": 1,
    "both_succeed": 0,
    "both_fail": 3
  },
  "results": [
    {
      "scenario_id": "sig_implicit_frust_001",
      "condition": "structured",
      "query": "I've opened a ticket about this endpoint returning 500 errors before.",
      "signal_type": "frustration",
      "ambiguity": "IMPLICIT",
      "expected_detection": true,
      "detected": false,
      "detected_type": null,
      "detected_reason": null,
      "detected_phrases": [],
      "success": false,
      "response_text": "I understand you've reported this issue previously. To help you effectively, I need a bit more context:\n\n1. **Which endpoint** is returning the 500 errors?\n2. **Is this happening in production** or a development/staging environment?\n3. **Do you have any error logs or stack traces** I can look at?\n4. **What ticket/issue number** was it reported under (so I can check for any previous investigation)?\n\nIf you can point me to the relevant code or logs, I can help investigate the root cause of these 500 errors.",
      "trial_number": 1,
      "is_true_positive": false,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": true,
      "has_verification_language": false
    },
    {
      "scenario_id": "sig_implicit_frust_001",
      "condition": "nl",
      "query": "I've opened a ticket about this endpoint returning 500 errors before.",
      "signal_type": "frustration",
      "ambiguity": "IMPLICIT",
      "expected_detection": true,
      "detected": false,
      "detected_type": null,
      "detected_reason": null,
      "detected_phrases": [],
      "success": false,
      "response_text": "I understand you've reported this issue previously. To help you effectively, I need a bit more context:\n\n1. **Which endpoint** is returning 500 errors?\n2. **What codebase/project** are we looking at?\n3. **Do you have a ticket number or link** to the previous report?\n\nIf you'd like, I can help by:\n- Investigating the endpoint code to identify the root cause\n- Looking at error logs or stack traces if available\n- Reviewing any recent changes that might have introduced the issue\n\nCould you point me to the relevant code or give me more details about the endpoint?",
      "trial_number": 1,
      "is_true_positive": false,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": true,
      "has_verification_language": false
    },
    {
      "scenario_id": "sig_implicit_frust_001",
      "condition": "structured",
      "query": "I've opened a ticket about this endpoint returning 500 errors before.",
      "signal_type": "frustration",
      "ambiguity": "IMPLICIT",
      "expected_detection": true,
      "detected": false,
      "detected_type": null,
      "detected_reason": null,
      "detected_phrases": [],
      "success": false,
      "response_text": "I understand you've previously reported issues with an endpoint returning 500 errors. To help you effectively, I need a bit more context:\n\n1. **Which endpoint** is returning the 500 errors?\n2. **Is this the same issue** recurring, or a new/different manifestation?\n3. **Do you have any error logs, request details, or a ticket reference** I can look at?\n4. **What would you like me to help with?** For example:\n   - Investigate the root cause in the codebase\n   - Review recent changes that might have caused a regression\n   - Help debug the issue\n   - Something else?\n\nLet me know the details and I'll dig into it.",
      "trial_number": 2,
      "is_true_positive": false,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": true,
      "has_verification_language": false
    },
    {
      "scenario_id": "sig_implicit_frust_001",
      "condition": "nl",
      "query": "I've opened a ticket about this endpoint returning 500 errors before.",
      "signal_type": "frustration",
      "ambiguity": "IMPLICIT",
      "expected_detection": true,
      "detected": false,
      "detected_type": null,
      "detected_reason": null,
      "detected_phrases": [],
      "success": false,
      "response_text": "I understand you've reported this issue before. To help you effectively, I need a bit more context:\n\n1. **Which endpoint** is returning 500 errors?\n2. **What codebase/project** are you working in?\n3. **Do you have access to logs** or error messages that might help diagnose the issue?\n\nIf you can point me to the relevant code, ticket, or error logs, I can help investigate the root cause of the 500 errors.",
      "trial_number": 2,
      "is_true_positive": false,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": true,
      "has_verification_language": false
    },
    {
      "scenario_id": "sig_implicit_frust_001",
      "condition": "nl",
      "query": "I've opened a ticket about this endpoint returning 500 errors before.",
      "signal_type": "frustration",
      "ambiguity": "IMPLICIT",
      "expected_detection": true,
      "detected": false,
      "detected_type": null,
      "detected_reason": null,
      "detected_phrases": [],
      "success": false,
      "response_text": "I understand you've reported this issue previously. To help you effectively, I need a bit more context:\n\n1. **Which endpoint** is returning 500 errors?\n2. **What codebase/project** are we looking at?\n3. **Do you have any error logs or stack traces** from the recent occurrences?\n\nIf you can point me to the relevant code or share the ticket details, I can investigate the root cause and help resolve this recurring issue.",
      "trial_number": 3,
      "is_true_positive": false,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": true,
      "has_verification_language": false
    },
    {
      "scenario_id": "sig_implicit_frust_001",
      "condition": "structured",
      "query": "I've opened a ticket about this endpoint returning 500 errors before.",
      "signal_type": "frustration",
      "ambiguity": "IMPLICIT",
      "expected_detection": true,
      "detected": false,
      "detected_type": null,
      "detected_reason": null,
      "detected_phrases": [],
      "success": false,
      "response_text": "I understand you've reported this issue previously. To help you effectively, I need a bit more context:\n\n1. **Which endpoint** is returning 500 errors?\n2. **What's the current behavior** - is it happening consistently, intermittently, or under specific conditions?\n3. **Do you have access to the codebase** where this endpoint is implemented, or are you consuming an external API?\n\nIf you can point me to the relevant code or logs, I can help investigate the root cause of the 500 errors.",
      "trial_number": 3,
      "is_true_positive": false,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": true,
      "has_verification_language": false
    },
    {
      "scenario_id": "sig_implicit_frust_001",
      "condition": "structured",
      "query": "I've opened a ticket about this endpoint returning 500 errors before.",
      "signal_type": "frustration",
      "ambiguity": "IMPLICIT",
      "expected_detection": true,
      "detected": false,
      "detected_type": null,
      "detected_reason": null,
      "detected_phrases": [],
      "success": false,
      "response_text": "I understand you're following up on a previously reported issue with an endpoint returning 500 errors. To help you effectively, I need some more context:\n\n1. **Which endpoint** is returning the 500 errors?\n2. **Is this still happening currently**, or are you looking to check the status of the fix?\n3. **Do you have any error logs, stack traces, or reproduction steps** you can share?\n\nIf you'd like, I can help you:\n- Investigate the endpoint code to identify potential causes\n- Search the codebase for related error handling\n- Look at recent changes that might have introduced the issue\n\nJust point me to the relevant code or give me more details about the endpoint, and I'll dig in.",
      "trial_number": 4,
      "is_true_positive": false,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": true,
      "has_verification_language": false
    },
    {
      "scenario_id": "sig_implicit_frust_001",
      "condition": "nl",
      "query": "I've opened a ticket about this endpoint returning 500 errors before.",
      "signal_type": "frustration",
      "ambiguity": "IMPLICIT",
      "expected_detection": true,
      "detected": true,
      "detected_type": null,
      "detected_reason": null,
      "detected_phrases": [
        "right away",
        "right away"
      ],
      "success": true,
      "response_text": "I understand you've reported this issue before. To help you effectively, I need a bit more context:\n\n1. **Which endpoint** is returning 500 errors? (URL path or name)\n2. **What codebase** are we looking at? (I can explore the current directory if this is the relevant project)\n3. **Do you have any error logs or stack traces** from the 500 responses?\n\nIf this is a codebase I can access in the current directory, I can start investigating right away - just let me know which endpoint or service is affected and I'll dig into it.",
      "trial_number": 4,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false,
      "has_verification_language": false
    },
    {
      "scenario_id": "sig_implicit_frust_001",
      "condition": "structured",
      "query": "I've opened a ticket about this endpoint returning 500 errors before.",
      "signal_type": "frustration",
      "ambiguity": "IMPLICIT",
      "expected_detection": true,
      "detected": true,
      "detected_type": "frustration",
      "detected_reason": "Recurring issue - endpoint 500 errors reported previously",
      "detected_phrases": [],
      "success": true,
      "response_text": "I understand you're dealing with a recurring issue with an endpoint returning 500 errors. That's frustrating to deal with, especially if it's been reported before.\n\n<signal type=\"frustration\">Recurring issue - endpoint 500 errors reported previously</signal>\n\nTo help you investigate this, I'll need some more information:\n\n1. **Which endpoint** is returning the 500 errors?\n2. **Do you have access to the codebase** so I can help you debug it?\n3. **Are there any error logs or stack traces** you can share?\n4. **What changed** since the last time this was addressed (if known)?\n\nIf you point me to the relevant code or logs, I can help you track down the root cause and work toward a permanent fix.",
      "trial_number": 5,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false,
      "has_verification_language": false
    },
    {
      "scenario_id": "sig_implicit_frust_001",
      "condition": "nl",
      "query": "I've opened a ticket about this endpoint returning 500 errors before.",
      "signal_type": "frustration",
      "ambiguity": "IMPLICIT",
      "expected_detection": true,
      "detected": false,
      "detected_type": null,
      "detected_reason": null,
      "detected_phrases": [],
      "success": false,
      "response_text": "I understand you've reported this issue before. To help you effectively, I need a bit more context:\n\n1. **Which endpoint** is returning the 500 errors?\n2. **What codebase/project** are we looking at? (I can see your current directory if you'd like me to investigate)\n3. **Do you have any error logs or stack traces** from the 500 responses?\n4. **Is this happening consistently** or intermittently?\n\nIf you'd like, I can start exploring your codebase to find the endpoint in question and investigate potential causes of the 500 errors. Just point me in the right direction!",
      "trial_number": 5,
      "is_true_positive": false,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": true,
      "has_verification_language": false
    }
  ]
}