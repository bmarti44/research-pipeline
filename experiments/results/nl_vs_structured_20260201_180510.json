{
  "metadata": {
    "timestamp": "20260201_180510",
    "experiment": "nl_vs_structured_tool_calling",
    "version": "v3_matched_explicitness",
    "num_trials": 5,
    "include_controls": true,
    "seed": 42,
    "n_positive": 1,
    "n_negative": 0,
    "total_observations": 10
  },
  "design": {
    "description": "Both conditions receive identical WHEN-to-save guidance and equally explicit HOW-to-save examples. Vagueness comes from scenarios (user requests), not system prompts.",
    "nl_format": "Natural English (e.g., 'I'll save X to the codebase category')",
    "structured_format": "save-memory \"content\" \"category\""
  },
  "conditions": {
    "nl": "Natural language intent via [SAVE: category] tags",
    "structured": "Structured tool call via save-memory command"
  },
  "metrics": {
    "structured": {
      "recall": 1.0,
      "false_positive_rate": 0,
      "ci_95": [
        0.5655085052479191,
        1
      ],
      "true_positives": 5,
      "false_positives": 0,
      "n_positive_scenarios": 5,
      "n_negative_scenarios": 0
    },
    "nl": {
      "recall": 1.0,
      "false_positive_rate": 0,
      "ci_95": [
        0.5655085052479191,
        1
      ],
      "true_positives": 5,
      "false_positives": 0,
      "n_positive_scenarios": 5,
      "n_negative_scenarios": 0
    }
  },
  "comparison": {
    "nl_minus_structured_pp": 0.0,
    "mcnemar_chi_sq": 0.0,
    "mcnemar_p_value": 1.0,
    "nl_wins": 0,
    "structured_wins": 0,
    "both_succeed": 5,
    "both_fail": 0
  },
  "results": [
    {
      "scenario_id": "mem_implicit_002",
      "condition": "structured",
      "query": "pstgrse is db",
      "expected_action": true,
      "detected_intent": false,
      "tool_called": true,
      "success": true,
      "intent_phrases": [],
      "tool_content": "save-memory \"PostgreSQL is the database used in this project\" \"codebase\"",
      "response_text": "I've noted that PostgreSQL is your database. I'll save this for future reference.Got it \u2014 **PostgreSQL is your database**. I'll keep that in mind for our conversations. Let me know if there's anything else about your setup you'd like me to remember!",
      "is_control": false,
      "trial_number": 1,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "nl",
      "query": "pstgrse is db",
      "expected_action": true,
      "detected_intent": true,
      "tool_called": false,
      "success": true,
      "intent_phrases": [
        "I'll save"
      ],
      "tool_content": null,
      "response_text": "I'll save that PostgreSQL is the database for this project.\n\nI've noted that PostgreSQL is the database being used. This will be helpful context for future conversations about database queries, migrations, schemas, or any database-related work.\n\nIs there anything specific you'd like help with regarding the PostgreSQL database?",
      "is_control": false,
      "trial_number": 1,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "structured",
      "query": "pstgrse is db",
      "expected_action": true,
      "detected_intent": false,
      "tool_called": true,
      "success": true,
      "intent_phrases": [],
      "tool_content": "save-memory \"PostgreSQL is the database used in this project\" \"codebase\"",
      "response_text": "I've noted that PostgreSQL is your database. I'll save this to memory for future reference.Got it - **PostgreSQL is your database**. I'll keep that in mind for our conversations. If you have any questions about queries, schema design, migrations, or anything else PostgreSQL-related, just let me know!",
      "is_control": false,
      "trial_number": 2,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "nl",
      "query": "pstgrse is db",
      "expected_action": true,
      "detected_intent": true,
      "tool_called": false,
      "success": true,
      "intent_phrases": [
        "I'll save",
        "I'll remember",
        "to the codebase category",
        "codebase"
      ],
      "tool_content": null,
      "response_text": "I'll save that PostgreSQL is the database for this project.\n\nI'll remember that PostgreSQL is the database to the codebase category.\n\nIs there anything specific about the PostgreSQL setup you'd like me to know, such as:\n- Connection details or configuration location\n- Schema or migration patterns used\n- Any ORMs or database libraries in use (e.g., Prisma, Sequelize, TypeORM, raw pg)?",
      "is_control": false,
      "trial_number": 2,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "nl",
      "query": "pstgrse is db",
      "expected_action": true,
      "detected_intent": true,
      "tool_called": false,
      "success": true,
      "intent_phrases": [
        "I'll save",
        "I'll remember",
        "to the codebase category",
        "codebase"
      ],
      "tool_content": null,
      "response_text": "I'll save that PostgreSQL is the database for this project.\n\nI'll remember that PostgreSQL is the database to the codebase category.\n\nIs there anything specific about the PostgreSQL setup you'd like to discuss or any tasks I can help you with?",
      "is_control": false,
      "trial_number": 3,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "structured",
      "query": "pstgrse is db",
      "expected_action": true,
      "detected_intent": false,
      "tool_called": true,
      "success": true,
      "intent_phrases": [],
      "tool_content": "save-memory \"PostgreSQL is the database used in this project\" \"codebase\"",
      "response_text": "I've noted that you're using PostgreSQL as your database. I'll save this for future reference.Got it \u2014 **PostgreSQL is your database**. I'll keep that in mind for our conversations. If you need help with queries, schema design, migrations, or anything else PostgreSQL-related, just let me know!",
      "is_control": false,
      "trial_number": 3,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "structured",
      "query": "pstgrse is db",
      "expected_action": true,
      "detected_intent": false,
      "tool_called": true,
      "success": true,
      "intent_phrases": [],
      "tool_content": "save-memory \"PostgreSQL is the database used in this project\" \"codebase\"",
      "response_text": "I've noted that PostgreSQL is your database. I'll save this for future reference.Got it \u2014 **PostgreSQL is your database**. I'll keep that in mind for our conversations. Let me know if there's anything you'd like help with regarding your PostgreSQL setup or queries!",
      "is_control": false,
      "trial_number": 4,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "nl",
      "query": "pstgrse is db",
      "expected_action": true,
      "detected_intent": true,
      "tool_called": false,
      "success": true,
      "intent_phrases": [
        "I'll save"
      ],
      "tool_content": null,
      "response_text": "I'll save that PostgreSQL is your database.\n\nI've noted that PostgreSQL is the database for your project. This will help me provide relevant suggestions for database queries, migrations, and configurations in our future conversations.\n\nIs there anything specific you'd like to do with your PostgreSQL database, such as writing queries, setting up migrations, or configuring connections?",
      "is_control": false,
      "trial_number": 4,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "structured",
      "query": "pstgrse is db",
      "expected_action": true,
      "detected_intent": false,
      "tool_called": true,
      "success": true,
      "intent_phrases": [],
      "tool_content": "save-memory \"PostgreSQL is the database used in this project\" \"codebase\"",
      "response_text": "I've noted that PostgreSQL is your database. I'll save this for future reference.Got it! I've made a note that **PostgreSQL** is your database. I'll remember this for our future conversations when discussing database queries, migrations, schema design, or any related work.",
      "is_control": false,
      "trial_number": 5,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "nl",
      "query": "pstgrse is db",
      "expected_action": true,
      "detected_intent": true,
      "tool_called": false,
      "success": true,
      "intent_phrases": [
        "I'll save",
        "I'll remember",
        "to the codebase category",
        "codebase"
      ],
      "tool_content": null,
      "response_text": "I'll save that PostgreSQL is the database for this project.\n\nI'll remember that PostgreSQL is the database to the codebase category.\n\nIs there anything specific about the PostgreSQL setup you'd like to discuss, such as:\n- Connection configuration\n- Schema design\n- Migrations\n- Query optimization\n- ORM integration",
      "is_control": false,
      "trial_number": 5,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    }
  ]
}