[
  {
    "scenario_id": "implicit_001",
    "condition": "natural_language",
    "query": "The main entry point is src/app.py and it uses FastAPI. The database models are in src/models/.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "Thanks for the context! Let me think through what you've shared:\n\n**What I'm learning:**\n- This is a **Python web application** using **FastAPI** as the framework\n- The main entry point is `src/app.py` - this is likely where the FastAPI app instance is created and routes are configured\n- Database models live in `src/models/` - this suggests you're using an ORM (probably SQLAlchemy given FastAPI's ecosystem, though it could be Tortoise ORM, SQLModel, or another option)\n\n**What might be useful to "
  },
  {
    "scenario_id": "implicit_001",
    "condition": "natural_language_actions",
    "query": "The main entry point is src/app.py and it uses FastAPI. The database models are in src/models/.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "Thanks for the context! I understand the project structure:\n\n- **Main entry point**: `src/app.py` (FastAPI application)\n- **Database models**: `src/models/` directory\n\nHow can I help you with this project? For example, I can:\n\n- Explore the codebase structure and understand how it's organized\n- Review or modify the FastAPI routes in `app.py`\n- Look at or update the database models\n- Add new features or fix bugs\n- Help with testing, documentation, or refactoring\n\nWhat would you like to work on?"
  },
  {
    "scenario_id": "implicit_001",
    "condition": "with_tool",
    "query": "The main entry point is src/app.py and it uses FastAPI. The database models are in src/models/.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I understand"
    ],
    "actual_tool_call": false,
    "response_text": "Got it! I understand the project structure:\n\n- **Main entry point**: `src/app.py` (FastAPI application)\n- **Database models**: `src/models/` directory\n\nIs there something specific you'd like me to help you with in this project? For example:\n\n- Exploring the codebase structure\n- Adding new features or endpoints\n- Reviewing or modifying the database models\n- Debugging an issue\n- Something else?\n\nLet me know what you need!"
  },
  {
    "scenario_id": "implicit_002",
    "condition": "natural_language",
    "query": "This is important: the authentication system uses bcrypt for password hashing and JWT for session tokens.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "good to know",
      "I'm noting"
    ],
    "actual_tool_call": false,
    "response_text": "That's good to know! Let me think about what I'm learning here...\n\n**Authentication details I'm noting:**\n\n1. **Password hashing: bcrypt** - This is a solid choice. Bcrypt is specifically designed for password hashing with built-in salting and adaptive cost factors, making it resistant to brute-force attacks. The work factor can be increased over time as hardware gets faster.\n\n2. **Session tokens: JWT (JSON Web Tokens)** - This means the system is likely using stateless authentication where the "
  },
  {
    "scenario_id": "implicit_002",
    "condition": "natural_language_actions",
    "query": "This is important: the authentication system uses bcrypt for password hashing and JWT for session tokens.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "Got it! I've noted that important information about your authentication system:\n\n- **Password hashing**: bcrypt\n- **Session tokens**: JWT (JSON Web Tokens)\n\nThis is a solid, industry-standard combination. Bcrypt is great for password hashing because it's intentionally slow and includes built-in salting, making it resistant to brute-force and rainbow table attacks. JWT tokens work well for stateless session management and can carry claims/payload data.\n\nIs there something specific you'd like to d"
  },
  {
    "scenario_id": "implicit_002",
    "condition": "with_tool",
    "query": "This is important: the authentication system uses bcrypt for password hashing and JWT for session tokens.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll save",
      "'ll",
      "save"
    ],
    "actual_tool_call": true,
    "response_text": "Thank you for that important information about your authentication system. I'll save this to memory so it's available for future conversations.I've noted this important detail about your codebase:\n\n**Authentication System:**\n- **Password hashing:** bcrypt\n- **Session tokens:** JWT (JSON Web Tokens)\n\nThis is a solid, industry-standard approach:\n- **bcrypt** is excellent for password hashing because it's intentionally slow (making brute-force attacks difficult) and includes built-in salting\n- **JW"
  },
  {
    "scenario_id": "implicit_003",
    "condition": "natural_language",
    "query": "I just finished refactoring the user service. All tests pass now.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "That's great to hear! \ud83c\udf89 Refactoring can be tricky, especially when you need to keep all the tests passing throughout the process.\n\nIt sounds like you've been working on a user service - that's typically a core part of most applications, handling things like authentication, user data management, profiles, etc. The fact that all tests pass now suggests you had good test coverage to guide the refactoring, which is the ideal way to do it.\n\nA few things I'm curious about (and that might be useful con"
  },
  {
    "scenario_id": "implicit_003",
    "condition": "natural_language_actions",
    "query": "I just finished refactoring the user service. All tests pass now.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "Great work on the refactoring! It's always satisfying when all tests pass after a refactor. \ud83c\udf89\n\nIs there anything you'd like me to help you with next? For example, I could:\n\n- **Create a commit** for your changes\n- **Review the changes** you made to ensure code quality\n- **Help document** the refactored code\n- **Assist with the next task** on your list\n\nJust let me know what you need!"
  },
  {
    "scenario_id": "implicit_003",
    "condition": "with_tool",
    "query": "I just finished refactoring the user service. All tests pass now.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "save this",
      "save",
      "for future reference"
    ],
    "actual_tool_call": true,
    "response_text": "That's great news! Congratulations on completing the refactoring with all tests passing. \ud83c\udf89\n\nLet me save this for future reference:I've noted that you've completed the user service refactoring with all tests passing. \n\nIs there anything else you'd like to do now? For example:\n- **Commit the changes** - I can help you create a commit with a good message\n- **Create a pull request** - If you're ready to merge\n- **Review the changes** - Walk through what was refactored\n- **Move on to the next task** "
  },
  {
    "scenario_id": "hint_001",
    "condition": "natural_language",
    "query": "For your reference, the API endpoints are defined in src/routes/.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I understand",
      "helpful context",
      "context"
    ],
    "actual_tool_call": false,
    "response_text": "Got it! I understand that the API endpoints for this project are defined in the `src/routes/` directory. This is helpful context for navigating the codebase.\n\nWhen you need me to work with API endpoints - whether that's finding specific routes, understanding how they work, modifying them, or adding new ones - I'll know to look in `src/routes/` as the starting point.\n\nIs there something specific you'd like me to help you with regarding the API endpoints?"
  },
  {
    "scenario_id": "hint_001",
    "condition": "natural_language_actions",
    "query": "For your reference, the API endpoints are defined in src/routes/.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "Find a specific endpoint** - Search for",
      "Find",
      "for"
    ],
    "actual_tool_call": false,
    "response_text": "I understand! The API endpoints are defined in `src/routes/`. \n\nIs there something specific you'd like me to help you with regarding the API endpoints? For example, I could:\n\n- **Explore the routes** - See what endpoints exist and how they're structured\n- **Find a specific endpoint** - Search for a particular route or functionality\n- **Add a new endpoint** - Help you create a new API route\n- **Modify an existing endpoint** - Update or fix something in the current routes\n\nJust let me know what yo"
  },
  {
    "scenario_id": "hint_001",
    "condition": "with_tool",
    "query": "For your reference, the API endpoints are defined in src/routes/.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I understand",
      "helpful context",
      "context"
    ],
    "actual_tool_call": false,
    "response_text": "I understand you're pointing me to the API endpoints location in `src/routes/`. This is helpful context for navigating the codebase.\n\nWould you like me to:\n1. **Explore the routes** - Look at what API endpoints are defined there\n2. **Help with a specific endpoint** - Create, modify, or debug a particular route\n3. **Something else** - Let me know what you'd like to accomplish with the API endpoints\n\nWhat would you like to do?"
  },
  {
    "scenario_id": "hint_002",
    "condition": "natural_language",
    "query": "I prefer using type hints everywhere and descriptive variable names. Keep that in mind for future work.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll remember",
      "'ll",
      "remember"
    ],
    "actual_tool_call": false,
    "response_text": "Got it! I'll remember those preferences for any code I write or review for you:\n\n1. **Type hints everywhere** - I'll include type annotations on function parameters, return types, and variables where it adds clarity (especially in Python, TypeScript, etc.)\n\n2. **Descriptive variable names** - I'll favor clear, self-documenting names over terse abbreviations. For example, `user_authentication_token` rather than `uat`, or `filtered_active_users` instead of `fau`.\n\nThese are great practices that ma"
  },
  {
    "scenario_id": "hint_002",
    "condition": "natural_language_actions",
    "query": "I prefer using type hints everywhere and descriptive variable names. Keep that in mind for future work.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll remember",
      "'ll",
      "remember",
      "for future",
      "future"
    ],
    "actual_tool_call": false,
    "response_text": "I'll remember your coding preferences for future work."
  },
  {
    "scenario_id": "hint_002",
    "condition": "with_tool",
    "query": "I prefer using type hints everywhere and descriptive variable names. Keep that in mind for future work.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll remember",
      "'ll",
      "remember"
    ],
    "actual_tool_call": true,
    "response_text": "I'll remember your preferences for future work.Got it! I've noted your coding preferences:\n\n1. **Type hints everywhere** - I'll include type annotations for function parameters, return types, and variables where appropriate\n2. **Descriptive variable names** - I'll use clear, meaningful names that convey purpose rather than short/cryptic abbreviations\n\nFor example, instead of:\n```python\ndef calc(x, y):\n    res = x + y\n    return res\n```\n\nI'll write:\n```python\ndef calculate_total(base_amount: floa"
  },
  {
    "scenario_id": "hint_003",
    "condition": "natural_language",
    "query": "Going forward, we'll use PostgreSQL for all database operations.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'm noting",
      "for future reference"
    ],
    "actual_tool_call": false,
    "response_text": "Got it! I'm noting that you want to use **PostgreSQL** for all database operations going forward.\n\nThis is useful context to keep in mind. When working on your projects, I'll:\n\n- Use PostgreSQL-specific syntax and features (like `SERIAL`, `JSONB`, `RETURNING` clauses, etc.)\n- Recommend PostgreSQL-compatible libraries and drivers (like `pg` for Node.js, `psycopg2` for Python, etc.)\n- Consider PostgreSQL-specific optimizations (indexes, partitioning, CTEs, window functions)\n- Use PostgreSQL connec"
  },
  {
    "scenario_id": "hint_003",
    "condition": "natural_language_actions",
    "query": "Going forward, we'll use PostgreSQL for all database operations.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll remember",
      "'ll",
      "remember",
      "for future",
      "future"
    ],
    "actual_tool_call": false,
    "response_text": "Understood! I'll remember that PostgreSQL is the database choice for all database operations going forward.\n\nThis is useful context to keep in mind for any future work involving:\n- Database schema design\n- Query writing (using PostgreSQL syntax and features)\n- Connection setup and configuration\n- Leveraging PostgreSQL-specific features like JSONB, arrays, window functions, CTEs, etc.\n\nIs there a specific database task you'd like to work on now, or was this just to establish the context for futur"
  },
  {
    "scenario_id": "hint_003",
    "condition": "with_tool",
    "query": "Going forward, we'll use PostgreSQL for all database operations.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll remember",
      "'ll",
      "remember"
    ],
    "actual_tool_call": true,
    "response_text": "Understood! I'll remember that PostgreSQL is your preferred database for all database operations going forward.I've noted your preference! Going forward, whenever we work on database-related tasks, I'll use **PostgreSQL** as the database system. This includes:\n\n- Database schema design\n- SQL queries and migrations\n- Connection configurations\n- ORM setups (using PostgreSQL-specific drivers like `pg` for Node.js, `psycopg2` for Python, etc.)\n- Any database-related code examples\n\nIs there a specifi"
  },
  {
    "scenario_id": "request_001",
    "condition": "natural_language",
    "query": "We decided to use PostgreSQL instead of SQLite. Please remember this decision for later.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'm noting",
      "keep this in mind",
      "this"
    ],
    "actual_tool_call": false,
    "response_text": "I appreciate you sharing that decision! Let me think through what I'm learning here:\n\n**What I'm noting:**\n- You've made a database technology decision: **PostgreSQL over SQLite**\n- This suggests you're likely working on a project that needs:\n  - Better concurrency handling (multiple simultaneous connections)\n  - More advanced features (complex queries, JSON support, full-text search)\n  - Production-readiness and scalability\n  - Or perhaps team collaboration where a centralized database makes mo"
  },
  {
    "scenario_id": "request_001",
    "condition": "natural_language_actions",
    "query": "We decided to use PostgreSQL instead of SQLite. Please remember this decision for later.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll save",
      "'ll",
      "save",
      "to memory",
      "for future"
    ],
    "actual_tool_call": false,
    "response_text": "I'll save this decision to memory for future reference."
  },
  {
    "scenario_id": "request_001",
    "condition": "with_tool",
    "query": "We decided to use PostgreSQL instead of SQLite. Please remember this decision for later.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll save",
      "'ll",
      "save",
      "for future reference",
      "note this",
      "note",
      "I'll keep this in mind"
    ],
    "actual_tool_call": true,
    "response_text": "I'll save this decision for future reference.Let me note this decision. I've recorded that **PostgreSQL** will be used instead of SQLite for this project. I'll keep this in mind for any future database-related discussions, schema designs, queries, or configuration we work on together.\n\nThis decision will influence things like:\n- Connection string formats\n- Available data types (PostgreSQL has richer types like `JSONB`, `ARRAY`, `UUID`, etc.)\n- Query syntax and features (CTEs, window functions, e"
  },
  {
    "scenario_id": "control_001",
    "condition": "natural_language",
    "query": "What is 2 + 2?",
    "expected_intent": false,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "2 + 2 = 4"
  },
  {
    "scenario_id": "control_001",
    "condition": "natural_language_actions",
    "query": "What is 2 + 2?",
    "expected_intent": false,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "2 + 2 = 4"
  },
  {
    "scenario_id": "control_001",
    "condition": "with_tool",
    "query": "What is 2 + 2?",
    "expected_intent": false,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "2 + 2 = **4**"
  }
]