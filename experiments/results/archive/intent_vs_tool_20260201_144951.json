[
  {
    "scenario_id": "implicit_001",
    "condition": "natural_language",
    "query": "The main entry point is src/app.py and it uses FastAPI. The database models are in src/models/.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "Thanks for the context! Let me think about what I'm learning here:\n\n**Project Structure:**\n- **Main entry point:** `src/app.py` - This is where the FastAPI application is initialized and likely where routes are registered or imported\n- **Framework:** FastAPI - so this is a Python web API project, which means I should expect async/await patterns, Pydantic models for request/response validation, and dependency injection\n- **Database models:** `src/models/` - This directory contains the ORM models "
  },
  {
    "scenario_id": "implicit_001",
    "condition": "natural_language_actions",
    "query": "The main entry point is src/app.py and it uses FastAPI. The database models are in src/models/.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "Thanks for the context! I understand your project structure:\n\n- **Main entry point**: `src/app.py` (FastAPI application)\n- **Database models**: `src/models/` directory\n\nHow can I help you with this project? For example, I could:\n\n- **Explore the codebase** - Look at the app structure, routes, and models\n- **Add a new feature** - Create new endpoints, models, or functionality\n- **Debug an issue** - Investigate and fix a problem\n- **Refactor code** - Improve existing code structure\n- **Review the "
  },
  {
    "scenario_id": "implicit_001",
    "condition": "with_tool",
    "query": "The main entry point is src/app.py and it uses FastAPI. The database models are in src/models/.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I understand"
    ],
    "actual_tool_call": false,
    "response_text": "Thanks for the context! I understand your project structure:\n\n- **Main entry point**: `src/app.py` (FastAPI application)\n- **Database models**: Located in `src/models/`\n\nIs there something specific you'd like me to help you with? For example:\n\n- Exploring or understanding the codebase\n- Adding new features or endpoints\n- Debugging an issue\n- Reviewing or refactoring code\n- Working with the database models\n\nLet me know what you need!"
  },
  {
    "scenario_id": "implicit_002",
    "condition": "natural_language",
    "query": "This is important: the authentication system uses bcrypt for password hashing and JWT for session tokens.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "That's really useful context to know! Let me think through what this tells me about your authentication system:\n\n**Password Hashing with bcrypt:**\n- This is a solid choice - bcrypt is designed specifically for password hashing with a built-in salt and adaptive cost factor\n- It's intentionally slow to resist brute-force attacks\n- The work factor can be increased over time as hardware gets faster\n\n**JWT for Session Tokens:**\n- Stateless authentication - the server doesn't need to store session dat"
  },
  {
    "scenario_id": "implicit_002",
    "condition": "natural_language_actions",
    "query": "This is important: the authentication system uses bcrypt for password hashing and JWT for session tokens.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "Got it! I've noted that important information about your authentication system:\n\n- **Password hashing**: bcrypt\n- **Session tokens**: JWT (JSON Web Tokens)\n\nThis is a solid, industry-standard combination. Bcrypt is excellent for password hashing because of its adaptive cost factor (making it resistant to brute-force attacks as hardware improves), and JWTs are great for stateless session management.\n\nIs there something specific you'd like to do with the authentication system? For example:\n- Revie"
  },
  {
    "scenario_id": "implicit_002",
    "condition": "with_tool",
    "query": "This is important: the authentication system uses bcrypt for password hashing and JWT for session tokens.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll save",
      "'ll",
      "save",
      "for future reference"
    ],
    "actual_tool_call": true,
    "response_text": "Thank you for sharing that important information about your authentication system. I'll save this to memory for future reference.I've noted this important detail about your codebase:\n\n**Authentication System:**\n- **Password hashing:** bcrypt\n- **Session tokens:** JWT (JSON Web Tokens)\n\nThis is a solid, industry-standard approach:\n- **bcrypt** is excellent for password hashing because it's intentionally slow (making brute-force attacks impractical) and automatically handles salting\n- **JWT** is g"
  },
  {
    "scenario_id": "implicit_003",
    "condition": "natural_language",
    "query": "I just finished refactoring the user service. All tests pass now.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "That's great news! \ud83c\udf89 Finishing a refactor with all tests passing is always a satisfying feeling.\n\nIt sounds like you've been working on the user service - I'm curious what kind of refactoring you did. Was it:\n- Restructuring the code architecture?\n- Improving performance?\n- Breaking up a large file/class?\n- Updating to new patterns or APIs?\n\nIf you'd like, I can help you with next steps like:\n- **Committing the changes** - I can help craft a good commit message\n- **Creating a PR** - if you're re"
  },
  {
    "scenario_id": "implicit_003",
    "condition": "natural_language_actions",
    "query": "I just finished refactoring the user service. All tests pass now.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "Great work on completing the user service refactor! \ud83c\udf89\n\nSince all tests are passing, would you like me to help you with the next step? I can:\n\n1. **Create a commit** for this refactor - I can look at the changes and craft a meaningful commit message\n2. **Review the changes** - I can examine what was modified to ensure nothing was missed\n3. **Create a pull request** - If you're ready to merge this work\n\nJust let me know how you'd like to proceed!"
  },
  {
    "scenario_id": "implicit_003",
    "condition": "with_tool",
    "query": "I just finished refactoring the user service. All tests pass now.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "That's great to hear! \ud83c\udf89 The user service refactoring is complete and all tests are passing.\n\nWould you like me to help with anything else, such as:\n- **Committing these changes** to git\n- **Reviewing the refactored code** for any additional improvements\n- **Documenting** the changes made\n- Moving on to another task\n\nJust let me know what you'd like to do next!"
  },
  {
    "scenario_id": "hint_001",
    "condition": "natural_language",
    "query": "For your reference, the API endpoints are defined in src/routes/.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "helpful context",
      "context",
      "I'm noting"
    ],
    "actual_tool_call": false,
    "response_text": "I see! So you're telling me that in this codebase, the API endpoints are defined in `src/routes/`. That's helpful context to know - it means when I need to look at or work with API-related code, I should start by exploring that directory.\n\nThis is a common pattern in many web frameworks (like Express.js, Fastify, or similar) where routes are organized in a dedicated folder. Each file there likely defines endpoints for a specific resource or feature area.\n\nA few things I'm noting that could be us"
  },
  {
    "scenario_id": "hint_001",
    "condition": "natural_language_actions",
    "query": "For your reference, the API endpoints are defined in src/routes/.",
    "expected_intent": true,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "I see you've mentioned that the API endpoints are defined in `src/routes/`. This gives me context about where to look if you need help with anything related to your API.\n\nHow can I help you today? Are you looking to:\n- Explore or understand the existing API endpoints?\n- Add a new endpoint?\n- Modify or debug an existing route?\n- Something else entirely?\n\nLet me know what you'd like to work on!"
  },
  {
    "scenario_id": "hint_001",
    "condition": "with_tool",
    "query": "For your reference, the API endpoints are defined in src/routes/.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I understand",
      "helpful context",
      "context"
    ],
    "actual_tool_call": false,
    "response_text": "I understand! The API endpoints are defined in `src/routes/`. This is helpful context for navigating the codebase. \n\nIs there something specific you'd like me to help you with regarding the API endpoints? For example, I could:\n\n1. **Explore the routes** - See what endpoints exist and how they're structured\n2. **Find a specific endpoint** - Search for a particular route or functionality\n3. **Add a new endpoint** - Help you create a new API route\n4. **Modify an existing endpoint** - Update or fix "
  },
  {
    "scenario_id": "hint_002",
    "condition": "natural_language",
    "query": "I prefer using type hints everywhere and descriptive variable names. Keep that in mind for future work.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll keep those preferences in mind"
    ],
    "actual_tool_call": false,
    "response_text": "Got it! I'll keep those preferences in mind for any code I write or review for you:\n\n1. **Type hints everywhere** - I'll include type annotations for function parameters, return types, and variables where it adds clarity (especially for complex types like collections, optionals, etc.)\n\n2. **Descriptive variable names** - No single-letter variables or cryptic abbreviations. I'll use names that clearly convey the purpose and content of the variable.\n\nSo for example, instead of:\n```python\ndef proce"
  },
  {
    "scenario_id": "hint_002",
    "condition": "natural_language_actions",
    "query": "I prefer using type hints everywhere and descriptive variable names. Keep that in mind for future work.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll remember",
      "'ll",
      "remember",
      "for future",
      "future"
    ],
    "actual_tool_call": false,
    "response_text": "I'll remember your coding preferences for future work:\n\n1. **Type hints everywhere** - I'll include type annotations on function parameters, return types, and variables where appropriate\n2. **Descriptive variable names** - I'll use clear, meaningful names that convey purpose rather than short/cryptic abbreviations\n\nFor example, instead of:\n\n```python\ndef calc(x, y):\n    r = x + y\n    return r\n```\n\nI'll write:\n\n```python\ndef calculate_total(base_amount: float, tax_amount: float) -> float:\n    tot"
  },
  {
    "scenario_id": "hint_002",
    "condition": "with_tool",
    "query": "I prefer using type hints everywhere and descriptive variable names. Keep that in mind for future work.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll remember",
      "'ll",
      "remember",
      "I'll keep your coding preferences in mind"
    ],
    "actual_tool_call": true,
    "response_text": "I'll remember your coding preferences for future work.Got it! I'll keep your coding preferences in mind for all future work:\n\n1. **Type hints everywhere** - I'll add type annotations to function parameters, return types, and variables where appropriate\n2. **Descriptive variable names** - I'll use clear, meaningful names that convey purpose rather than short/cryptic ones\n\nFor example, instead of:\n```python\ndef calc(x, y):\n    res = x + y\n    return res\n```\n\nI'll write:\n```python\ndef calculate_tot"
  },
  {
    "scenario_id": "hint_003",
    "condition": "natural_language",
    "query": "Going forward, we'll use PostgreSQL for all database operations.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'm noting"
    ],
    "actual_tool_call": false,
    "response_text": "Got it! I'm noting that you want to use **PostgreSQL** for all database operations going forward.\n\nThis is useful context to keep in mind. When working on your codebase, I'll:\n\n- Use PostgreSQL-specific syntax and features (like `SERIAL`, `JSONB`, `RETURNING` clauses, etc.)\n- Recommend PostgreSQL-compatible libraries and drivers (like `pg` for Node.js, `psycopg2` for Python, etc.)\n- Consider PostgreSQL-specific optimizations (indexes, query planning, connection pooling)\n- Use PostgreSQL conventi"
  },
  {
    "scenario_id": "hint_003",
    "condition": "natural_language_actions",
    "query": "Going forward, we'll use PostgreSQL for all database operations.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll remember",
      "'ll",
      "remember",
      "for future",
      "future"
    ],
    "actual_tool_call": false,
    "response_text": "Understood! I'll remember that PostgreSQL is your database of choice for all database operations going forward.\n\nThis means when working on your projects, I'll:\n- Use PostgreSQL syntax for SQL queries\n- Recommend PostgreSQL-specific features and extensions (like `jsonb`, arrays, `RETURNING` clauses, etc.)\n- Use appropriate PostgreSQL drivers/libraries (like `pg` for Node.js, `psycopg2` for Python, etc.)\n- Consider PostgreSQL-specific optimizations and best practices\n\nIs there a specific database"
  },
  {
    "scenario_id": "hint_003",
    "condition": "with_tool",
    "query": "Going forward, we'll use PostgreSQL for all database operations.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll remember",
      "'ll",
      "remember",
      "I'll keep this in mind"
    ],
    "actual_tool_call": true,
    "response_text": "Understood! I'll remember that PostgreSQL is your preferred database for all database operations going forward.I've noted your preference for **PostgreSQL** for all database operations. I'll keep this in mind for any future database-related work, including:\n\n- Schema design and migrations\n- Query writing and optimization\n- Connection setup and configuration\n- Any database tooling recommendations\n\nIs there a specific PostgreSQL task you'd like to work on now?"
  },
  {
    "scenario_id": "request_001",
    "condition": "natural_language",
    "query": "We decided to use PostgreSQL instead of SQLite. Please remember this decision for later.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "keep this in mind",
      "this",
      "keep that in mind",
      "that"
    ],
    "actual_tool_call": false,
    "response_text": "I appreciate you sharing that decision! Let me think about this...\n\nSo you've decided to go with **PostgreSQL instead of SQLite** for your database. That's a significant architectural choice. PostgreSQL is a great pick when you need:\n\n- More robust concurrent access and better handling of multiple connections\n- Advanced data types (JSON/JSONB, arrays, custom types)\n- Better performance at scale\n- More sophisticated querying capabilities (CTEs, window functions, full-text search)\n- Stronger data "
  },
  {
    "scenario_id": "request_001",
    "condition": "natural_language_actions",
    "query": "We decided to use PostgreSQL instead of SQLite. Please remember this decision for later.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll remember",
      "'ll",
      "remember"
    ],
    "actual_tool_call": false,
    "response_text": "I'll remember this decision for you."
  },
  {
    "scenario_id": "request_001",
    "condition": "with_tool",
    "query": "We decided to use PostgreSQL instead of SQLite. Please remember this decision for later.",
    "expected_intent": true,
    "expressed_intent": true,
    "intent_phrases": [
      "I'll save",
      "'ll",
      "save",
      "for future reference",
      "note this",
      "note",
      "I'll keep this in mind"
    ],
    "actual_tool_call": true,
    "response_text": "I'll save this decision to memory for future reference.Let me note this decision. I've recorded that you've decided to **use PostgreSQL instead of SQLite** for this project. I'll keep this in mind for any future database-related work or recommendations in our conversations.\n\nIs there anything specific you'd like to work on with PostgreSQL now, such as:\n- Setting up the database schema\n- Configuring connection settings\n- Migrating existing SQLite code to PostgreSQL\n- Something else?"
  },
  {
    "scenario_id": "control_001",
    "condition": "natural_language",
    "query": "What is 2 + 2?",
    "expected_intent": false,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "2 + 2 = 4"
  },
  {
    "scenario_id": "control_001",
    "condition": "natural_language_actions",
    "query": "What is 2 + 2?",
    "expected_intent": false,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "2 + 2 = **4**"
  },
  {
    "scenario_id": "control_001",
    "condition": "with_tool",
    "query": "What is 2 + 2?",
    "expected_intent": false,
    "expressed_intent": false,
    "intent_phrases": [],
    "actual_tool_call": false,
    "response_text": "2 + 2 = **4**"
  }
]