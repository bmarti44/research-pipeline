{
  "metadata": {
    "timestamp": "20260201_181202",
    "experiment": "nl_vs_structured_tool_calling",
    "version": "v3_matched_explicitness",
    "num_trials": 5,
    "include_controls": true,
    "seed": 42,
    "n_positive": 1,
    "n_negative": 0,
    "total_observations": 10
  },
  "design": {
    "description": "Both conditions receive identical WHEN-to-save guidance and equally explicit HOW-to-save examples. Vagueness comes from scenarios (user requests), not system prompts.",
    "nl_format": "Natural English (e.g., 'I'll save X to the codebase category')",
    "structured_format": "save-memory \"content\" \"category\""
  },
  "conditions": {
    "nl": "Natural language intent via [SAVE: category] tags",
    "structured": "Structured tool call via save-memory command"
  },
  "metrics": {
    "structured": {
      "recall": 1.0,
      "false_positive_rate": 0,
      "ci_95": [
        0.5655085052479191,
        1
      ],
      "true_positives": 5,
      "false_positives": 0,
      "n_positive_scenarios": 5,
      "n_negative_scenarios": 0
    },
    "nl": {
      "recall": 1.0,
      "false_positive_rate": 0,
      "ci_95": [
        0.5655085052479191,
        1
      ],
      "true_positives": 5,
      "false_positives": 0,
      "n_positive_scenarios": 5,
      "n_negative_scenarios": 0
    }
  },
  "comparison": {
    "nl_minus_structured_pp": 0.0,
    "mcnemar_chi_sq": 0.0,
    "mcnemar_p_value": 1.0,
    "nl_wins": 0,
    "structured_wins": 0,
    "both_succeed": 5,
    "both_fail": 0
  },
  "results": [
    {
      "scenario_id": "mem_implicit_002",
      "condition": "structured",
      "query": "pg is db",
      "expected_action": true,
      "detected_intent": false,
      "tool_called": true,
      "success": true,
      "intent_phrases": [],
      "tool_content": "save-memory \"pg refers to the database (PostgreSQL)\" \"codebase\"",
      "response_text": "I've noted that \"pg\" refers to the database in your project. I'll save this for future reference.Got it! I'll remember that **pg** refers to the database (PostgreSQL) in your project. If you mention \"pg\" in future conversations, I'll know you're talking about the database. \ud83d\udc4d",
      "is_control": false,
      "trial_number": 1,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "nl",
      "query": "pg is db",
      "expected_action": true,
      "detected_intent": true,
      "tool_called": false,
      "success": true,
      "intent_phrases": [
        "I'll remember",
        "I'll save",
        "to the codebase category",
        "codebase"
      ],
      "tool_content": null,
      "response_text": "Got it! I'll remember that \"pg\" refers to the database in your project.\n\nI'll save that \"pg\" refers to the database to the codebase category.\n\nIs there anything specific you'd like help with regarding your database?",
      "is_control": false,
      "trial_number": 1,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "structured",
      "query": "pg is db",
      "expected_action": true,
      "detected_intent": false,
      "tool_called": true,
      "success": true,
      "intent_phrases": [],
      "tool_content": "save-memory \"pg refers to the database (PostgreSQL)\" \"codebase\"",
      "response_text": "I've noted that \"pg\" refers to your database (PostgreSQL). I'll remember this for our future conversations.Got it! I'll remember that **pg = database (PostgreSQL)** in your project. This will help me understand when you reference \"pg\" in future discussions about your codebase.",
      "is_control": false,
      "trial_number": 2,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "nl",
      "query": "pg is db",
      "expected_action": true,
      "detected_intent": true,
      "tool_called": false,
      "success": true,
      "intent_phrases": [
        "I'll save"
      ],
      "tool_content": null,
      "response_text": "I'll save that \"pg\" refers to the database in your project.\n\nI've noted that \"pg\" refers to the database in your codebase. This will help me understand references to \"pg\" in future conversations - I'll know it means your database (likely PostgreSQL).\n\nIs there anything specific about your database setup you'd like help with?",
      "is_control": false,
      "trial_number": 2,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "nl",
      "query": "pg is db",
      "expected_action": true,
      "detected_intent": true,
      "tool_called": false,
      "success": true,
      "intent_phrases": [
        "I'll save",
        "I'll remember"
      ],
      "tool_content": null,
      "response_text": "I'll save that note about your database setup.\n\nI'll remember that \"pg\" refers to your database (PostgreSQL). This will help me understand references to \"pg\" in future conversations about your codebase.",
      "is_control": false,
      "trial_number": 3,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "structured",
      "query": "pg is db",
      "expected_action": true,
      "detected_intent": false,
      "tool_called": true,
      "success": true,
      "intent_phrases": [],
      "tool_content": "save-memory \"pg refers to the database (PostgreSQL)\" \"codebase\"",
      "response_text": "I've noted that \"pg\" refers to your database (PostgreSQL). I'll remember this for our future conversations.Got it! I'll remember that **pg = database (PostgreSQL)** in this project. This will be helpful context for any database-related discussions we have. Is there anything specific you'd like to work on with your PostgreSQL database?",
      "is_control": false,
      "trial_number": 3,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "structured",
      "query": "pg is db",
      "expected_action": true,
      "detected_intent": false,
      "tool_called": true,
      "success": true,
      "intent_phrases": [],
      "tool_content": "save-memory \"pg refers to the database (PostgreSQL)\" \"codebase\"",
      "response_text": "Got it! I've noted that \"pg\" refers to your database (PostgreSQL). I'll remember this for our conversations.I'll remember that \"pg\" refers to your database (PostgreSQL) in our conversations. Let me know if there's anything you'd like help with regarding your database or anything else!",
      "is_control": false,
      "trial_number": 4,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "nl",
      "query": "pg is db",
      "expected_action": true,
      "detected_intent": true,
      "tool_called": false,
      "success": true,
      "intent_phrases": [
        "I'll save",
        "to the codebase category",
        "codebase"
      ],
      "tool_content": null,
      "response_text": "I understand! You're letting me know that \"pg\" refers to your database (PostgreSQL).\n\nI'll save that \"pg\" is shorthand for your database (PostgreSQL) to the codebase category.\n\nIs there something specific you'd like help with regarding your PostgreSQL database?",
      "is_control": false,
      "trial_number": 4,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "structured",
      "query": "pg is db",
      "expected_action": true,
      "detected_intent": false,
      "tool_called": true,
      "success": true,
      "intent_phrases": [],
      "tool_content": "save-memory \"pg refers to the database (PostgreSQL)\" \"codebase\"",
      "response_text": "I've noted that \"pg\" refers to your database (PostgreSQL). I'll remember this for our conversation.Got it \u2014 **\"pg\" = database (PostgreSQL)**. I'll keep that in mind as we work together. How can I help you with your database or anything else?",
      "is_control": false,
      "trial_number": 5,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    },
    {
      "scenario_id": "mem_implicit_002",
      "condition": "nl",
      "query": "pg is db",
      "expected_action": true,
      "detected_intent": true,
      "tool_called": false,
      "success": true,
      "intent_phrases": [
        "I'll save",
        "I'll save",
        "to the codebase category",
        "codebase"
      ],
      "tool_content": null,
      "response_text": "I'll save that information for future reference.\n\nI'll save that \"pg\" refers to the database (PostgreSQL) in this codebase to the codebase category.\n\nIs there anything specific you'd like to do with the database, or any other context you'd like to share?",
      "is_control": false,
      "trial_number": 5,
      "is_true_positive": true,
      "is_false_positive": false,
      "is_true_negative": false,
      "is_false_negative": false
    }
  ]
}